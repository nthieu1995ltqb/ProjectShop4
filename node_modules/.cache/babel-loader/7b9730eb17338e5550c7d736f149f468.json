{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pc\\\\Desktop\\\\abc\\\\FE08-TrungHieu-XuanQuy\\\\src\\\\pages\\\\ProductDetails\\\\ProductDetails.js\";\nimport React from 'react';\nimport Aside from '../../components/Aside';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport RelatedProducts from './RelatedProducts';\nimport BeautyStars from 'beauty-stars';\nimport { connect } from 'react-redux';\nimport * as action from '../../actions/actions';\n\nclass ProductDetails extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.zoomImage = (e, index) => {\n      e.preventDefault();\n      this.setState({\n        indexImg: index\n      });\n    };\n\n    this.onAddToCart = product => {\n      var test = 'TOKEN';\n      let history = this.props.history;\n\n      if (test in sessionStorage) {\n        this.props.onAddToCart(product); //console.log(\"ok\")\n      } else {\n        //console.log(\"err\")\n        alert(\"Bạn chưa đăng nhập. Bạn cần phải đăng nhập mới được mua hàng\");\n        history.push(\"/login\");\n      } //this.props.onAddToCart(product);\n\n    };\n\n    this.state = {\n      //product: [],\n      count: 1,\n      totalPriceItem: 0,\n      product: [],\n      productBySlug: [],\n      srcImg: \"\",\n      indexImg: 0,\n      slug: \"\"\n    };\n  }\n\n  componentDidMount() {\n    // var {id}=this.props.match.params\n    // axios({\n    //     method: 'GET',\n    //     url: `http://localhost:3000/products/${id}`,\n    //     data: null\n    // }).then(res =>{\n    //     this.setState({\n    //         product: res.data\n    //     })\n    // });\n    var _this$props$match$par = this.props.match.params,\n        id = _this$props$match$par.id,\n        slug = _this$props$match$par.slug; //Get product by ID\n\n    axios({\n      method: 'GET',\n      url: \"http://localhost:3000/products/\".concat(id),\n      data: null\n    }).then(res => {\n      this.setState({\n        product: res.data\n      }, () => {\n        this.setState({\n          srcImg: res.data.img1\n        }, () => {\n          this.setState({\n            totalPriceItem: res.data.price\n          });\n        });\n      });\n    }); //Get product by slug\n\n    axios({\n      method: 'GET',\n      url: \"http://localhost:3000/products?id_ne=\".concat(id, \"&slug=\").concat(slug, \"&_limit=4\"),\n      data: null\n    }).then(res => {\n      this.setState({\n        productBySlug: res.data\n      });\n    });\n  } //handler zoom image\n\n\n  render() {\n    //var {id, name, price, img}=this.state.product\n    // var { id, name, price, img1, img2, img3 }=this.state.product\n    var _this$state = this.state,\n        indexImg = _this$state.indexImg,\n        srcImg = _this$state.srcImg,\n        productBySlug = _this$state.productBySlug,\n        product = _this$state.product;\n    var listImgs = [product.img1, product.img2, product.img3];\n    srcImg = srcImg.replace('0', indexImg);\n    var showImgs = listImgs.map((img, index) => {\n      return React.createElement(NavLink, {\n        to: \"#\",\n        key: index,\n        onClick: e => {\n          this.zoomImage(e, index);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: '../../' + img,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }));\n    }); //Set array related products\n\n    var showRelatedProducts = productBySlug.map((productBySlug, index) => {\n      return React.createElement(RelatedProducts, {\n        key: index,\n        productBySlug: productBySlug,\n        img: productBySlug.img,\n        name: productBySlug.name,\n        price: productBySlug.price,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      });\n    }); // var {product} = this.props;\n\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Aside, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-sm-9 padding-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"product-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"view-product\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"../../\" + srcImg,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"similar-product\",\n      className: \"carousel slide\",\n      \"data-ride\": \"carousel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"carousel-inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"item active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, showImgs)))), React.createElement(\"div\", {\n      className: \"col-sm-7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"product-information\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"images/product-details/new.jpg\",\n      className: \"newarrival\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, product.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"SKU: ESP00\", product.id), React.createElement(\"img\", {\n      src: \"images/product-details/rating.png\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"$\", product.price)), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-fefault cart\",\n      onClick: () => this.onAddToCart(product),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-shopping-cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), \" \\xA0 Th\\xEAm V\\xE0o Gi\\u1ECF H\\xE0ng\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"T\\xECnh Tr\\u1EA1ng:\"), \" C\\xF2n H\\xE0ng\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Tr\\u1EA1ng Th\\xE1i:\"), \" M\\u1EDBi\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Th\\u01B0\\u01A1ng Hi\\u1EC7u:\"), \" E-SHOPPER\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      className: \"col-sm-3\",\n      style: {\n        float: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Rating:\"), React.createElement(\"div\", {\n      className: \"col-sm-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(BeautyStars, {\n      value: this.state.product.rating,\n      onChange: value => this.setState({\n        value\n      }),\n      size: \"15px\",\n      activeColor: \"#fe980f\",\n      inactiveColor: \"#efdcc3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    })))))), React.createElement(\"div\", {\n      className: \"container relate-products\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"page-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"S\\u1EA3n Ph\\u1EA9m Li\\xEAn Quan\")), showRelatedProducts), React.createElement(\"div\", {\n      className: \"reviews\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"B\\xECnh Lu\\u1EADn\"), React.createElement(\"div\", {\n      className: \"single-blog-post\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"post-meta\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }), \"T\\xE1c Gi\\u1EA3\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-clock-o\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), \"Th\\u1EDDi Gian\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-calendar-o\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), \"Ng\\xE0y Th\\xE1ng\")))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Vi\\u1EBFt B\\xECnh Lu\\u1EADn\")), React.createElement(\"form\", {\n      action: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"T\\xEAn C\\u1EE7a B\\u1EA1n\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"email\",\n      placeholder: \"\\u0110\\u1ECBa Ch\\u1EC9 Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    })), React.createElement(\"textarea\", {\n      name: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Rating: \"), \" \", React.createElement(\"img\", {\n      src: \"images/product-details/rating.png\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-default pull-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"G\\u1EE7i B\\xECnh Lu\\u1EADn\")))))));\n  }\n\n} // export default ProductDetails;\n\n\nconst mapStateToProps = state => {\n  return {\n    products: state.products\n  };\n};\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    onAddToCart: product => {\n      dispatch(action.actAddToCart(product, 1));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetails);","map":{"version":3,"sources":["C:/Users/Pc/Desktop/abc/FE08-TrungHieu-XuanQuy/src/pages/ProductDetails/ProductDetails.js"],"names":["React","Aside","axios","NavLink","RelatedProducts","BeautyStars","connect","action","ProductDetails","Component","constructor","props","zoomImage","e","index","preventDefault","setState","indexImg","onAddToCart","product","test","history","sessionStorage","alert","push","state","count","totalPriceItem","productBySlug","srcImg","slug","componentDidMount","match","params","id","method","url","data","then","res","img1","price","render","listImgs","img2","img3","replace","showImgs","map","img","showRelatedProducts","name","float","rating","value","mapStateToProps","products","mapDispatchToProps","dispatch","actAddToCart"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Aside from '../../components/Aside';\r\n\r\nimport axios from 'axios';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nimport RelatedProducts from './RelatedProducts';\r\nimport BeautyStars from 'beauty-stars';\r\nimport {connect} from 'react-redux';\r\nimport * as action from '../../actions/actions';\r\n\r\nclass ProductDetails extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            //product: [],\r\n            count: 1,\r\n            totalPriceItem: 0,\r\n            product: [],\r\n            productBySlug: [],\r\n            srcImg: \"\",\r\n            indexImg: 0,\r\n            slug: \"\"  \r\n        }\r\n    }\r\n    componentDidMount(){\r\n        // var {id}=this.props.match.params\r\n        // axios({\r\n        //     method: 'GET',\r\n        //     url: `http://localhost:3000/products/${id}`,\r\n        //     data: null\r\n        // }).then(res =>{\r\n        //     this.setState({\r\n        //         product: res.data\r\n        //     })\r\n        // });\r\n\r\n        var {id, slug}=this.props.match.params\r\n        //Get product by ID\r\n        axios({\r\n            method: 'GET',\r\n            url: `http://localhost:3000/products/${id}`,\r\n            data: null\r\n        }).then(res =>{\r\n            this.setState({\r\n                product: res.data\r\n            },()=>{\r\n                this.setState({\r\n                    srcImg: res.data.img1\r\n                },()=>{\r\n                    this.setState({\r\n                        totalPriceItem: res.data.price\r\n                    })\r\n                });\r\n            });\r\n        });\r\n\r\n        //Get product by slug\r\n        axios({\r\n            method: 'GET',\r\n            url: `http://localhost:3000/products?id_ne=${id}&slug=${slug}&_limit=4`,\r\n            data: null\r\n        }).then(res =>{\r\n            this.setState({\r\n                productBySlug: res.data\r\n            });\r\n        });\r\n    }\r\n\r\n \r\n\r\n    //handler zoom image\r\n    zoomImage=(e, index)=>{\r\n        e.preventDefault();\r\n        this.setState({\r\n            indexImg: index\r\n        })\r\n    } \r\n\r\n     render(){\r\n        //var {id, name, price, img}=this.state.product\r\n        // var { id, name, price, img1, img2, img3 }=this.state.product\r\n        var { indexImg, srcImg, productBySlug, product } = this.state\r\n        var listImgs = [product.img1, product.img2, product.img3]\r\n        srcImg = srcImg.replace('0', indexImg)\r\n        var showImgs = listImgs.map((img, index)=>{\r\n            return <NavLink to=\"#\" key={index} onClick={(e)=>{this.zoomImage(e, index)}}><img src={'../../'+img} alt=\"\"/></NavLink>\r\n        })\r\n\r\n        //Set array related products\r\n        var showRelatedProducts = productBySlug.map((productBySlug, index)=>{\r\n            return <RelatedProducts key={index} \r\n                                    productBySlug={productBySlug}\r\n                                    img={productBySlug.img}\r\n                                    name={productBySlug.name}\r\n                                    price={productBySlug.price}/>\r\n        })\r\n\r\n        // var {product} = this.props;\r\n\r\n        return(\r\n            <div className=\"container\" >\r\n                <div className=\"row\">\r\n                    <Aside />\r\n                    \r\n                    <div className=\"col-sm-9 padding-right\">\r\n                        <div className=\"product-details\">\r\n                            <div className=\"col-sm-5\">\r\n                                <div className=\"view-product\">\r\n                                    <img src={\"../../\" + srcImg} alt=\"\" />\r\n                                    {/* <img src={\"../\" + img} alt=\"\" />  */}\r\n                                </div>\r\n                                <div id=\"similar-product\" className=\"carousel slide\" data-ride=\"carousel\">\r\n                                    <div className=\"carousel-inner\">\r\n                                        <div className=\"item active\">\r\n                                            {showImgs}\r\n                                        </div>   \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div className=\"col-sm-7\">\r\n                                <div className=\"product-information\">\r\n                                    <img src=\"images/product-details/new.jpg\" className=\"newarrival\" alt=\"\" />\r\n                                    <h2>{product.name}</h2>\r\n                                    <p>SKU: ESP00{product.id}</p>\r\n                                    <img src=\"images/product-details/rating.png\" alt=\"\" />\r\n                                    <span>\r\n                                        <div>\r\n                                        <span>${product.price}</span>\r\n                                        </div>\r\n\r\n                                        <button type=\"button\" className=\"btn btn-fefault cart\"\r\n                                            onClick = { () => this.onAddToCart(product)}>\r\n                                            <i className=\"fa fa-shopping-cart\"></i> &nbsp;\r\n                                            Thêm Vào Giỏ Hàng\r\n                                        </button>\r\n                                    </span>\r\n                                    <p><b>Tình Trạng:</b> Còn Hàng</p>\r\n                                    <p><b>Trạng Thái:</b> Mới</p>\r\n                                    <p><b>Thương Hiệu:</b> E-SHOPPER</p>\r\n                                    <div className=\"row\">\r\n                                        <b className=\"col-sm-3\" style={{float:\"left\"}}>Rating:</b>\r\n                                        <div className=\"col-sm-9\">\r\n                                        <BeautyStars                                            \r\n                                            value={this.state.product.rating} \r\n                                            onChange={value => this.setState({ value })}\r\n                                            size=\"15px\"\r\n                                            activeColor=\"#fe980f\"\r\n                                            inactiveColor=\"#efdcc3\" />\r\n                                        </div>                                       \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <div className=\"container relate-products\">\r\n                            <div className=\"page-header\">\r\n                                <h2>Sản Phẩm Liên Quan</h2>\r\n                            </div>\r\n                            {showRelatedProducts}\r\n                        </div> \r\n                        \r\n                        <div className=\"reviews\">\r\n                            <h2>Bình Luận</h2>\r\n                            <div className=\"single-blog-post\">\r\n                                <div className=\"post-meta\">\r\n                                    <ul>\r\n                                        <li><NavLink to=\"#\"><i className=\"fa fa-user\"></i>Tác Giả</NavLink></li>\r\n                                        <li><NavLink to=\"#\"><i className=\"fa fa-clock-o\"></i>Thời Gian</NavLink></li>\r\n                                        <li><NavLink to=\"#\"><i className=\"fa fa-calendar-o\"></i>Ngày Tháng</NavLink></li>\r\n                                    </ul>\r\n                                </div>\r\n                                \r\n                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>\r\n                                <p><b>Viết Bình Luận</b></p>\r\n                                \r\n                                <form action=\"#\" >\r\n                                    <span>\r\n                                        <input type=\"text\" placeholder=\"Tên Của Bạn\"/>\r\n                                        <input type=\"email\" placeholder=\"Địa Chỉ Email\"/>\r\n                                    </span>\r\n                                    <textarea name=\"\" ></textarea>\r\n                                    <b>Rating: </b> <img src=\"images/product-details/rating.png\" alt=\"\" />\r\n                                    <button type=\"button\" className=\"btn btn-default pull-right\">\r\n                                        Gủi Bình Luận\r\n                                    </button>\r\n                                </form>\r\n                            </div>\r\n                        \r\n                        </div>\r\n                        \r\n                        \r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    onAddToCart = (product) =>{\r\n        \r\n\r\n        var test = 'TOKEN';\r\n        let { history} = this.props;\r\n\r\n        if (test in sessionStorage){\r\n            this.props.onAddToCart(product);\r\n            //console.log(\"ok\")\r\n        } else{\r\n            \r\n            //console.log(\"err\")\r\n            alert(\"Bạn chưa đăng nhập. Bạn cần phải đăng nhập mới được mua hàng\")\r\n            history.push(\"/login\");\r\n\r\n        }\r\n        //this.props.onAddToCart(product);\r\n        \r\n    }\r\n\r\n}\r\n\r\n// export default ProductDetails;\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n        products: state.products\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, props)=>{\r\n    return{\r\n        onAddToCart: (product) =>{\r\n            dispatch(action.actAddToCart(product, 1));\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps) (ProductDetails);"]},"metadata":{},"sourceType":"module"}